<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Test downloader</title>
    <script>module={};</script>
    <script src="./dist.js"></script>
  </head>
  <body>

    <textarea id="text">a	b	âœ“
1	2	3
4	5	6</textarea>
    <a href="#" id="dl-csv">download csv</a>

    <canvas id="canvas" width="100" height="70"></canvas>
    <a href="#" id="dl-canvas">download canvas</a>

    <script>

      document.getElementById('canvas')
        .getContext('2d').fillRect(20, 10, 60, 50);

      clickDownload(document.getElementById('dl-csv'), function(encode) {
        return {
          filename: 'blah.csv',
          contents: encode.text(document.getElementById('text').value),
        };
      });

      clickDownload(document.getElementById('dl-canvas'), function(encode) {
        return {
          filename: 'blah.png',
          contents: encode.canvas(document.getElementById('canvas')),
        };
      });

    </script>
  </body>
</html>
